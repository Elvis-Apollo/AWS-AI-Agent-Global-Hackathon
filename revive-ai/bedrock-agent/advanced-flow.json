{
  "nodes": [
    {
      "name": "CustomerInput",
      "type": "Input",
      "configuration": {
        "input": {}
      },
      "outputs": [
        {
          "name": "document",
          "type": "String"
        }
      ]
    },
    {
      "name": "GatherCRMData",
      "type": "LambdaFunction",
      "configuration": {
        "lambdaFunction": {
          "lambdaArn": "arn:aws:lambda:us-east-1:292101577831:function:bedrock-agent-executor"
        }
      },
      "inputs": [
        {
          "expression": "$.data.document",
          "name": "input",
          "type": "String"
        }
      ],
      "outputs": [
        {
          "name": "modelCompletion",
          "type": "String"
        }
      ]
    },
    {
      "name": "SearchWebIntel",
      "type": "LambdaFunction",
      "configuration": {
        "lambdaFunction": {
          "lambdaArn": "arn:aws:lambda:us-east-1:292101577831:function:bedrock-agent-executor"
        }
      },
      "inputs": [
        {
          "expression": "$.data.document",
          "name": "input",
          "type": "String"
        }
      ],
      "outputs": [
        {
          "name": "modelCompletion",
          "type": "String"
        }
      ]
    },
    {
      "name": "CheckRoadmap",
      "type": "LambdaFunction",
      "configuration": {
        "lambdaFunction": {
          "lambdaArn": "arn:aws:lambda:us-east-1:292101577831:function:bedrock-agent-executor"
        }
      },
      "inputs": [
        {
          "expression": "$.data.document",
          "name": "input",
          "type": "String"
        }
      ],
      "outputs": [
        {
          "name": "modelCompletion",
          "type": "String"
        }
      ]
    },
    {
      "name": "AnalyzeWithAllIntel",
      "type": "Agent",
      "configuration": {
        "agent": {
          "agentAliasArn": "arn:aws:bedrock:us-east-1:292101577831:agent-alias/HAKDC7PY1Z/WN63LBEVKR"
        }
      },
      "inputs": [
        {
          "expression": "$.data.document",
          "name": "input",
          "type": "String"
        }
      ],
      "outputs": [
        {
          "name": "agentResponse",
          "type": "String"
        }
      ]
    },
    {
      "name": "FinalOutput",
      "type": "Output",
      "configuration": {
        "output": {}
      },
      "inputs": [
        {
          "expression": "$.data.agentResponse",
          "name": "document",
          "type": "String"
        }
      ]
    }
  ],
  "connections": [
    {
      "name": "InputToCRM",
      "source": "CustomerInput",
      "target": "GatherCRMData",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "document",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "InputToWeb",
      "source": "CustomerInput",
      "target": "SearchWebIntel",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "document",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "InputToRoadmap",
      "source": "CustomerInput",
      "target": "CheckRoadmap",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "document",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "CRMToAnalyzer",
      "source": "GatherCRMData",
      "target": "AnalyzeWithAllIntel",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "modelCompletion",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "WebToAnalyzer",
      "source": "SearchWebIntel",
      "target": "AnalyzeWithAllIntel",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "modelCompletion",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "RoadmapToAnalyzer",
      "source": "CheckRoadmap",
      "target": "AnalyzeWithAllIntel",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "modelCompletion",
          "targetInput": "input"
        }
      }
    },
    {
      "name": "AnalyzerToOutput",
      "source": "AnalyzeWithAllIntel",
      "target": "FinalOutput",
      "type": "Data",
      "configuration": {
        "data": {
          "sourceOutput": "agentResponse",
          "targetInput": "document"
        }
      }
    }
  ]
}
